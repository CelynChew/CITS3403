<!DOCTYPE html>
<head>
    <title>Chatroom</title>
    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- chatroom.css -->
    <link rel="stylesheet" href="../static/css/chatroom.css">
</head>

<body>

<h2> Welcome User: {{ current_user.username }}</h2>
<h3>Password Change Form</h3>
<form id="edit-profile" action="/edit_profile" method="POST">
    <div class="mb-3">
        <!-- New username input-->
        <label for="currentpword" class="form-label">Current Password:</label>
        <input type="text" class="form-control" id="currentpword" name="currentpword" required>
    </div>
    <div class="mb-3">
        <!-- Password input -->
        <label for="newpword" class="form-label">New Password:</label>
        <input type="password" class="form-control" id="newpword" name="newpword" required>
    </div>
    <div class="mb-3">
        <!-- Retyped Password input -->
        <label for="retypenewPword" class="form-label">Retype New Password:</label>
        <input type="password" class="form-control" id="retypenewPword" name="retypenewPword" required>
    </div>
    <div class="mb-3">
        <!-- Submit Button -->
        <button type="submit" class="btn btn-primary" id="submit-btn">Submit Changes</button>
    </div>
    
    <!-- Error message if passwords do not match -->
    {% if password_error %}
        <p style="color: red;">{{ password_error }}</p>
    {% endif %}
    <!-- Error message if username already exists -->
    {% if error_message %}
        <p style="color: red;">{{ error_message }}</p>
    {% endif %}
</form>


</body>
